{
  "version": 3,
  "sources": ["../../marked-mangle/src/index.js"],
  "sourcesContent": ["export function mangle() {\n  return {\n    mangle: false, // remove this once mangle option is removed\n    walkTokens(token) {\n      if (token.type !== 'link') {\n        return;\n      }\n\n      if (!token.href.startsWith('mailto:')) {\n        return;\n      }\n\n      const email = token.href.substring(7);\n      const mangledEmail = mangleEmail(email);\n\n      token.href = `mailto:${mangledEmail}`;\n\n      if (token.tokens.length !== 1 || token.tokens[0].type !== 'text' || token.tokens[0].text !== email) {\n        return;\n      }\n\n      token.text = mangledEmail;\n      token.tokens[0].text = mangledEmail;\n    }\n  };\n}\n\nfunction mangleEmail(text) {\n  let out = '',\n    i,\n    ch;\n\n  const l = text.length;\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n"],
  "mappings": ";;;AAAO,SAAS,SAAS;AACvB,SAAO;AAAA,IACL,QAAQ;AAAA;AAAA,IACR,WAAW,OAAO;AAChB,UAAI,MAAM,SAAS,QAAQ;AACzB;AAAA,MACF;AAEA,UAAI,CAAC,MAAM,KAAK,WAAW,SAAS,GAAG;AACrC;AAAA,MACF;AAEA,YAAM,QAAQ,MAAM,KAAK,UAAU,CAAC;AACpC,YAAM,eAAe,YAAY,KAAK;AAEtC,YAAM,OAAO,UAAU,YAAY;AAEnC,UAAI,MAAM,OAAO,WAAW,KAAK,MAAM,OAAO,CAAC,EAAE,SAAS,UAAU,MAAM,OAAO,CAAC,EAAE,SAAS,OAAO;AAClG;AAAA,MACF;AAEA,YAAM,OAAO;AACb,YAAM,OAAO,CAAC,EAAE,OAAO;AAAA,IACzB;AAAA,EACF;AACF;AAEA,SAAS,YAAY,MAAM;AACzB,MAAI,MAAM,IACR,GACA;AAEF,QAAM,IAAI,KAAK;AACf,OAAK,IAAI,GAAG,IAAI,GAAG,KAAK;AACtB,SAAK,KAAK,WAAW,CAAC;AACtB,QAAI,KAAK,OAAO,IAAI,KAAK;AACvB,WAAK,MAAM,GAAG,SAAS,EAAE;AAAA,IAC3B;AACA,WAAO,OAAO,KAAK;AAAA,EACrB;AAEA,SAAO;AACT;",
  "names": []
}
